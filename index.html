<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/AR-js-org/AR.js/aframe/build/aframe-ar.js"></script>

<style>
.ui{
 position:fixed;
 background:rgba(0,0,0,0.6);
 color:white;
 padding:10px;
 border-radius:10px;
 font-family:Arial;
 z-index:10;
}

#msg{top:10px;left:50%;transform:translateX(-50%);}
#score{bottom:10px;left:10px;}
#info{bottom:10px;right:10px;}
</style>
</head>

<body>

<div id="msg" class="ui">Conecta bater√≠a ‚Üí resistencia ‚Üí LED</div>
<div id="score" class="ui">‚≠ê0</div>
<div id="info" class="ui">üí° La resistencia protege el LED</div>

<audio id="ok" src="https://actions.google.com/sounds/v1/cartoon/wood_plank_flicks.ogg"></audio>
<audio id="bad" src="https://actions.google.com/sounds/v1/cartoon/cartoon_boing.ogg"></audio>

<a-scene
 embedded
 arjs="sourceType: webcam; facingMode: environment;"
>

<a-camera></a-camera>

<!-- PROTOBOARD VIRTUAL -->
<a-plane
 id="board"
 position="0 0 -1.5"
 rotation="-90 0 0"
 width="2"
 height="1"
 color="#e5e5e5">
</a-plane>

<!-- COMPONENTES -->
<a-box id="battery" color="black"
 position="-0.6 0.1 -1.3"
 depth="0.1" height="0.1" width="0.2"></a-box>

<a-box id="resistor" color="#c69c6d"
 position="0 0.1 -1.3"
 depth="0.1" height="0.05" width="0.25"></a-box>

<a-sphere id="led" color="red"
 position="0.6 0.1 -1.3"
 radius="0.07"></a-sphere>

</a-scene>

<script>
let step=0;
let score=0;

const msg=document.getElementById("msg");
const scoreTxt=document.getElementById("score");
const info=document.getElementById("info");

const ok=document.getElementById("ok");
const bad=document.getElementById("bad");

function check(type){

 if(
  (step===0 && type==="battery") ||
  (step===1 && type==="resistor") ||
  (step===2 && type==="led")
 ){
   ok.play();
   score+=10;
   step++;

   if(step===3){
     msg.innerText="üéâ Circuito completo";
     info.innerText="El LED recibe corriente controlada";
     document.querySelector("#led").setAttribute("color","lime");
   }else{
     msg.innerText="‚úî Bien, sigue";
   }
 }
 else{
   bad.play();
   score-=5;
   msg.innerText="‚ùå Orden incorrecto";
   info.innerText="Sigue: bater√≠a ‚Üí resistencia ‚Üí LED";

   setTimeout(()=>{
    msg.innerText="Conecta bater√≠a ‚Üí resistencia ‚Üí LED";
   },1500);
 }

 scoreTxt.innerText="‚≠ê"+score;
}

document.querySelector("#battery")
.addEventListener("click",()=>check("battery"));

document.querySelector("#resistor")
.addEventListener("click",()=>check("resistor"));

document.querySelector("#led")
.addEventListener("click",()=>check("led"));

</script>

</body>
</html>
